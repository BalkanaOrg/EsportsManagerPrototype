<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:EsportsManager.ViewModels"
             x:Class="EsportsManager.Views.TournamentsView"
             Title="Tournaments">

    <RefreshView Command="{Binding RefreshCommand}">
        <CollectionView ItemsSource="{Binding Tournaments}"
                        SelectionMode="None">

            <!-- Grid layout with 5 items per row -->
            <CollectionView.ItemsLayout>
                <GridItemsLayout Orientation="Vertical"
                                Span="5"
                                HorizontalItemSpacing="10"
                                VerticalItemSpacing="10"/>
            </CollectionView.ItemsLayout>

            <!-- Tournament card template -->
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="10"
                           CornerRadius="10"
                           BackgroundColor="{StaticResource CardBackground}"
                           BorderColor="{StaticResource Primary}"
                           HeightRequest="180"
                           WidthRequest="180">

                        <StackLayout Spacing="5">
                            <!-- Tournament Name -->
                            <Label Text="{Binding Name}" 
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Primary}"
                                   LineBreakMode="TailTruncation"/>

                            <!-- Basic Info -->
                            <Label Text="{Binding Tier, StringFormat='Tier: {0}'}"
                                   FontSize="12"/>
                            <Label Text="{Binding PrizePool, StringFormat='Prize: ${0:N0}'}"
                                   FontSize="12"/>
                            <Label Text="{Binding Week, StringFormat='Week: {0}'}"
                                   FontSize="12"/>

                            <!-- Participating Teams -->
                            <Label Text="Teams:" 
                                   FontSize="12"
                                   FontAttributes="Bold"/>
                            <Label Text="{Binding ParticipatingTeams.Count, StringFormat='{0} teams'}"
                                   FontSize="11"/>

                            <!-- View Button -->
                            <Button Text="View"
                                    FontSize="12"
                                    Padding="0"
                                    HeightRequest="30"
                                    Command="{Binding Source={RelativeSource AncestorType={x:Type viewmodels:TournamentsViewModel}}, Path=ViewTournamentCommand}"
                                    CommandParameter="{Binding .}"/>
                        </StackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </RefreshView>
</ContentPage>


<!--<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:EsportsManager.ViewModels"
             x:Class="EsportsManager.Views.TournamentsView"
             Title="Tournaments">

    <RefreshView Command="{Binding RefreshCommand}">
        <CollectionView ItemsSource="{Binding Tournaments}"
                        SelectionMode="None">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Margin="10" Padding="10">
                        <StackLayout>
                            <Label Text="{Binding Name}" 
                                   FontSize="18" 
                                   FontAttributes="Bold"/>
                            <Label Text="{Binding Tier, 
                                   StringFormat='Tier: {0}'}"/>
                            <Label Text="{Binding PrizePool, 
                                   StringFormat='Prize: ${0:N0}'}"/>

                             Participating Teams 
                            <Label Text="Participants:" 
                                   FontAttributes="Bold"/>
                            <CollectionView ItemsSource="{Binding ParticipatingTeams}"
                                           HeightRequest="150">
                                <CollectionView.ItemsLayout>
                                    <LinearItemsLayout Orientation="Vertical" 
                                                       ItemSpacing="5"/>
                                </CollectionView.ItemsLayout>
                                <CollectionView.ItemTemplate>
                                    <DataTemplate>
                                        <Button Text="{Binding Name}" 
                                                Command="{Binding Source={RelativeSource AncestorType={x:Type viewmodels:TournamentsViewModel}}, Path=ViewTeamCommand}"
                                                CommandParameter="{Binding .}"/>
                                    </DataTemplate>
                                </CollectionView.ItemTemplate>
                            </CollectionView>

                             Upcoming Matches 
                            <Label Text="Upcoming Matches:" 
                                   FontAttributes="Bold"/>
                            <CollectionView ItemsSource="{Binding Matches}"
                                            HeightRequest="100">
                                <CollectionView.ItemsLayout>
                                    <LinearItemsLayout Orientation="Vertical" 
                                                       ItemSpacing="5"/>
                                </CollectionView.ItemsLayout>
                                <CollectionView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid ColumnDefinitions="*,Auto,*">
                                            <Label Text="{Binding Team1.Name}" 
                                                   HorizontalOptions="End"/>
                                            <Label Grid.Column="1" 
                                                   Text="vs" 
                                                   HorizontalOptions="Center"/>
                                            <Label Grid.Column="2" 
                                                   Text="{Binding Team2.Name}" 
                                                   HorizontalOptions="Start"/>
                                        </Grid>
                                    </DataTemplate>
                                </CollectionView.ItemTemplate>
                            </CollectionView>
                        </StackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </RefreshView>
</ContentPage>-->

    
    
    
    
    
    
    
    
    
    
    
<!-- TournamentsView.xaml --><!--
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:EsportsManager.ViewModels"
             x:Class="EsportsManager.Views.TournamentsView"
             Title="Tournaments">

    <Grid RowDefinitions="Auto,*">
        --><!-- Segmented control for tournament types --><!--
        <HorizontalStackLayout Grid.Row="0" Spacing="5" HorizontalOptions="Center">
            <Button Text="Active" Command="{Binding FilterCommand}" CommandParameter="Active" />
            <Button Text="Upcoming" Command="{Binding FilterCommand}" CommandParameter="Upcoming" />
            <Button Text="Completed" Command="{Binding FilterCommand}" CommandParameter="Completed" />
        </HorizontalStackLayout>

        --><!-- Tournaments list --><!--
        <RefreshView Grid.Row="1" Command="{Binding RefreshCommand}">
            <CollectionView ItemsSource="{Binding Tournaments}" SelectionMode="Single" SelectedItem="{Binding SelectedTournament}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="10" ColumnDefinitions="*,Auto">
                            <VerticalStackLayout Grid.Column="0" Spacing="2">
                                <Label Text="{Binding Name}" FontAttributes="Bold" />
                                <Label Text="{Binding Tier}" FontSize="14" />
                                <Label Text="{Binding PrizePool, StringFormat='Prize: ${0:N0}'}" FontSize="12" />
                                <Label Text="{Binding Week, StringFormat='Week {0}'}" FontSize="12" />
                            </VerticalStackLayout>

                            <Button Grid.Column="1" Text="Details" Command="{Binding Source={RelativeSource AncestorType={x:Type viewmodels:TournamentsViewModel}}, Path=ViewTournamentCommand}" 
                                    CommandParameter="{Binding .}" />
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </RefreshView>
    </Grid>
</ContentPage>-->